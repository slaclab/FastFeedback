
record(ai, "$(DEV):PH") {
  field(DESC, "phase at $(RF)")
  field(FLNK, "$(DEV):CHIRPFAN2")
  field(INP, "$(PHASE_LNK) CPP MS")
  field(MDEL, "-1")
  field(PINI, "YES")
}

record(ai, "$(DEV):AMP") {
  field(DESC, "amplitude at $(RF)")
  field(FLNK, "$(DEV):ENERGYFAN2")
  field(INP, "$(AMPL_LNK) CPP MS")
  field(MDEL, "-1")
  field(PINI, "YES")
}

record(calc, "$(DEV):CHIRP") {
  field(DESC, "$(RF) phase amp to energy")
  field(CALC, "B*sin(A*3.141592653589793/180)")
  field(INPA, "$(DEV):PH")
  field(INPB, "$(DEV):AMP")
  field(EGU, "MeV")
  field(PREC, "8")
}

record(calc, "$(DEV):ENERGY") {
  field(DESC, "$(RF) phase amp to energy")
  field(CALC, "B*cos( A*3.141592653589793/180)")
  field(INPA, "$(DEV):PH")
  field(INPB, "$(DEV):AMP")
  field(EGU, "MeV")
  field(PREC, "8")
}

record(fanout, "$(DEV):CHIRPFAN2") {
  field(SELM, "All")
  field(LNK1, "$(DEV):ENERGY.VAL")
  field(LNK2, "$(DEV):CHIRP.VAL")
}

record(fanout, "$(DEV):ENERGYFAN2") {
  field(SELM, "All")
  field(LNK1, "$(DEV):ENERGY.VAL")
  field(LNK2, "$(DEV):CHIRP.VAL")
}

#record(ao, "$(DEV):TMITLOW") {
#  field(DESC, "Lowest Valid TMIT ")
#  field(PINI, "YES")
#  field(VAL, "1e9")
#  field(PREC, "4")
#  field(EGU, "Nel")
#  field(HIHI, "1e10")
#  field(LOLO, "1e6")
#  field(HHSV, "MAJOR")
#  field(LLSV, "MAJOR")
#}
