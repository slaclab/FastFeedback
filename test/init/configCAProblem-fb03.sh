#!/bin/sh

caput FBCK:FB03:TR01:STATE 0
caput -a FBCK:FB03:TR01:POI1 21 0 0 0 8 0 0 0 256 0 0 54 0 0 0 0 0 0 0 0 0 0

# F matrix
caput -a FBCK:FB03:TR01:FMATRIX 20 1 0 0 0 -0.61 2.19 0 0 0 0 1 0 0 0 1.89 2.26 0 0.1 0.1 0.1 0.1

# G matrix
caput -a FBCK:FB03:TR01:GMATRIX 10 0.1 0.1 0.1 0.1 0.1 0.1 0.1 1 1 1

# Loop configs
caput FBCK:FB03:TR01:NAME CATest
caput FBCK:FB03:TR01:TOTALPOI 1
caput FBCK:FB03:TR01:ITERATEFUNC SineN

# Measurements
caput FBCK:FB03:TR01:M1DEVNAME BPMS:LI22:201:X
#caput FBCK:FB03:TR01:M1DEVNAME FILE:/data/sinepoi/m1
caput FBCK:FB03:TR01:M1USED 1
caput FBCK:FB03:TR01:M1CAMODE 1

# Reference Orbit
caput -a FBCK:FB03:TR01:REFORBIT 4 0.1 0.2 0.3 0.4

# States
caput FBCK:FB03:TR01:S1NAME NULL
caput FBCK:FB03:TR01:S1USED 1

# Actuators
caput FBCK:FB03:TR01:A1DEVNAME NULL
caput FBCK:FB03:TR01:A1USED 1
caput FBCK:FB03:TR01:A1CAMODE 1

# Reference Orbit
caput -a FBCK:FB03:TR01:ACTENERGY 2 1 1

caput FBCK:FB03:TR01:MEASNUM 1
caput FBCK:FB03:TR01:ACTNUM 0
caput FBCK:FB03:TR01:STATENUM 0

#enable loop
caput FBCK:FB03:TR01:INSTALLED 1
#caput FBCK:FB03:TR01:STATE ON
