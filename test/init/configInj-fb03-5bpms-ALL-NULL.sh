#!/bin/sh

caput FBCK:FB03:TR01:STATE 0

# 0.5 HZ, pockcel_perm
#caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 8 0 0 0 256 0 0 54 0 0 0 0 0 0 0 0

# 1 HZ, pockcel_perm
#caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 8 0 0 0 128 0 0 54 0 0 0 0 0 0 0 0

# 5 Hz, pockcel_perm
#caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 8 0 0 0 64 0 0 54 0 0 0 0 0 0 0 0

# 10 Hz, pockcel_perm
#caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 8 0 0 0 32 0 0 54 0 0 0 0 0 0 0 0

# 30 Hz, pockcel_perm
#caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 8 0 0 0 16 0 0 54 0 0 0 0 0 0 0 0

# 60 Hz, TS4 inclusion
#caput -a FBCK:FB03:TR01:POI1 21 0 0 8 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0

# 120 Hz, TS2, TS3, TS5 & TS6 exclusion
caput -a FBCK:FB03:TR01:POI1 21 0 0 0 0 0 0 0 0 0 0 0 0 54 0 0 0 0 0 0 0 0

# F matrix
#caput -a FBCK:FB03:TR01:FMATRIX 50 1 0 0 0 3 0.97811 1.9127 0 0 3 0.12335 0.80696 0 0 3 1.65 -0.33597 0 0 3 3.1276 -0.39243 0 0 3 0 0 1 0 3 0 0 1.022 1.997 3 0 0 1.8976 4.2539 3 0 0 -0.17824 2.3499 3 0 0 -0.29402 1.5882 3 0 0 0 0 0 0 0 0 0
caput -a FBCK:FB03:TR01:FMATRIX  50 1 0 0 0 3 0.97735 1.9112 0 0 3 0.093331 0.74869 0 0 3 1.829 -0.027033 0 0 3 3.4494 0.16895 0 0 3 0 0 1 0 3 0 0 1.0228 1.9985 3 0 0 1.9289 4.3144 3 0 0 -0.58866 1.3845 3 0 0 -0.63245 0.79451 3

# G matrix
caput -a FBCK:FB03:TR01:GMATRIX 10 2.5181 2.8809 0 0 -0.33363 1.1087 0 0 0 0 -0.34556 2.3591 0 0 -0.5343 0.89322 0 0 0 0 

# Loop configs
caput FBCK:FB03:TR01:NAME InjectorLaunchTEST
caput FBCK:FB03:TR01:INSTALLED 1
caput FBCK:FB03:TR01:TOTALPOI 1
caput FBCK:FB03:TR01:ITERATEFUNC TrajectoryFit
#caput FBCK:FB03:TR01:ITERATEFUNC Noop 

# Measurements
caput FBCK:FB03:TR01:M1DEVNAME NULL
caput FBCK:FB03:TR01:M1USED 1
caput FBCK:FB03:TR01:M1CAMODE 0

caput FBCK:FB03:TR01:M2DEVNAME NULL
caput FBCK:FB03:TR01:M2USED 1
caput FBCK:FB03:TR01:M2CAMODE 0

caput FBCK:FB03:TR01:M3DEVNAME NULL
caput FBCK:FB03:TR01:M3USED 1
caput FBCK:FB03:TR01:M3CAMODE 0

caput FBCK:FB03:TR01:M4DEVNAME NULL
caput FBCK:FB03:TR01:M4USED 1
caput FBCK:FB03:TR01:M4CAMODE 0

caput FBCK:FB03:TR01:M5DEVNAME NULL
caput FBCK:FB03:TR01:M5USED 1
caput FBCK:FB03:TR01:M5CAMODE 0

caput FBCK:FB03:TR01:M6DEVNAME NULL
caput FBCK:FB03:TR01:M6USED 1
caput FBCK:FB03:TR01:M6CAMODE 0

caput FBCK:FB03:TR01:M7DEVNAME NULL
caput FBCK:FB03:TR01:M7USED 1
caput FBCK:FB03:TR01:M7CAMODE 0

caput FBCK:FB03:TR01:M8DEVNAME NULL
caput FBCK:FB03:TR01:M8USED 1
caput FBCK:FB03:TR01:M8CAMODE 0

caput FBCK:FB03:TR01:M9DEVNAME NULL
caput FBCK:FB03:TR01:M9USED 1
caput FBCK:FB03:TR01:M9CAMODE 0

caput FBCK:FB03:TR01:M10DEVNAME NULL
caput FBCK:FB03:TR01:M10USED 1
caput FBCK:FB03:TR01:M10CAMODE 0

caput FBCK:FB03:TR01:M11USED 0
caput FBCK:FB03:TR01:M12USED 0
caput FBCK:FB03:TR01:M13USED 0
caput FBCK:FB03:TR01:M14USED 0
caput FBCK:FB03:TR01:M15USED 0
caput FBCK:FB03:TR01:M16USED 0
caput FBCK:FB03:TR01:M17USED 0
caput FBCK:FB03:TR01:M18USED 0
caput FBCK:FB03:TR01:M19USED 0
caput FBCK:FB03:TR01:M20USED 0

# Reference orbit
#caput -a FBCK:FB03:TR01:REFORBIT 10 -0.0059313 -0.12648 -0.13236 0.051098 -0.082934 -0.10219 -0.0022403 -0.03867 0.10587 -0.16693
caput -a FBCK:FB03:TR01:REFORBIT 10 0.102 -0.015 -0.148 -0.005 -0.017 -0.148 0.02 0.017 0.074 -0.033 

# States
caput FBCK:FB03:TR01:S1NAME NULL
caput FBCK:FB03:TR01:S1USED 1
caput FBCK:FB03:TR01:S1HIHI 10
caput FBCK:FB03:TR01:S1LOLO -10

caput FBCK:FB03:TR01:S2NAME NULL
caput FBCK:FB03:TR01:S2USED 1
caput FBCK:FB03:TR01:S2HIHI 10
caput FBCK:FB03:TR01:S2LOLO -10

caput FBCK:FB03:TR01:S3NAME NULL
caput FBCK:FB03:TR01:S3USED 1
caput FBCK:FB03:TR01:S3HIHI 10
caput FBCK:FB03:TR01:S3LOLO -10

caput FBCK:FB03:TR01:S4NAME NULL
caput FBCK:FB03:TR01:S4USED 1
caput FBCK:FB03:TR01:S4HIHI 10
caput FBCK:FB03:TR01:S4LOLO -10

# Actuators
caput FBCK:FB03:TR01:A1DEVNAME NULL
caput FBCK:FB03:TR01:A1USED 1
caput FBCK:FB03:TR01:A1CAMODE 1
caput FBCK:FB03:TR01:A1HIHI 0.007
caput FBCK:FB03:TR01:A1LOLO -0.007

caput FBCK:FB03:TR01:A2DEVNAME NULL
caput FBCK:FB03:TR01:A2USED 1
caput FBCK:FB03:TR01:A2CAMODE 1
caput FBCK:FB03:TR01:A2HIHI 0.006
caput FBCK:FB03:TR01:A2LOLO -0.006

caput FBCK:FB03:TR01:A3DEVNAME NULL
caput FBCK:FB03:TR01:A3USED 1
caput FBCK:FB03:TR01:A3CAMODE 1
caput FBCK:FB03:TR01:A3HIHI 0.007
caput FBCK:FB03:TR01:A3LOLO -0.007

caput FBCK:FB03:TR01:A4DEVNAME NULL
caput FBCK:FB03:TR01:A4USED 1
caput FBCK:FB03:TR01:A4CAMODE 1
caput FBCK:FB03:TR01:A4HIHI 0.006
caput FBCK:FB03:TR01:A4LOLO -0.006

# Energy
caput -a FBCK:FB03:TR01:ACTENERGY 4 0.073564 0.135 0.073564 0.135

# Must set these up in order to have the config app work
caput FBCK:FB03:TR01:MEASNUM 10
caput FBCK:FB03:TR01:ACTNUM 4
caput FBCK:FB03:TR01:STATENUM 4
caput FBCK:FB03:TR01:PGAIN 0.1

# Enable loop
caput FBCK:FB03:TR01:INSTALLED 1
#caput FBCK:FB03:TR01:STATE 1

